(this.webpackJsonpSamuraiJs=this.webpackJsonpSamuraiJs||[]).push([[4],{386:function(e,t,s){e.exports={profilePage:"ProfileInfo_profilePage__3uDP-",profile:"ProfileInfo_profile__2TFOu",descriptionBlock:"ProfileInfo_descriptionBlock__q5UHZ",status:"ProfileInfo_status__1YNjz",profile_status:"ProfileInfo_profile_status__2PQFK",addAva:"ProfileInfo_addAva__SrsKz",contact:"ProfileInfo_contact__3fDxk",contacts:"ProfileInfo_contacts__1eIST",contactProfileInfo:"ProfileInfo_contactProfileInfo__2IGvi",editProfile:"ProfileInfo_editProfile__3CTxE",editProfileElement:"ProfileInfo_editProfileElement__3STzy",wrapper1:"ProfileInfo_wrapper1__1Hz2R",wrapper2:"ProfileInfo_wrapper2__3LHKn",btnFile:"ProfileInfo_btnFile__3zv3q"}},391:function(e,t,s){"use strict";s(5),s(3),s(37),s(0),s(46),s(123),s(1)},441:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__2B-Hl",posts:"MyPosts_posts__3ZgQ3"}},442:function(e,t,s){e.exports={item:"Post_item__1xJSY",time:"Post_time__39JtH"}},456:function(e,t,s){"use strict";s.r(t);var a=s(3),n=s(0),o=s.n(n),i=s(17),r=s(386),l=s.n(r),c=s(62),u=s(150),d=s(1),j=function(e){var t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],o=s[1],r=Object(n.useState)(e.status),c=Object(i.a)(r,2),u=c[0],j=c[1];Object(n.useEffect)((function(){j(e.status)}),[e.status]);return Object(d.jsxs)("div",{className:l.a.status,children:[!a&&Object(d.jsxs)("div",{className:l.a.profile_status,children:[Object(d.jsx)("b",{children:" \u0421\u0442\u0430\u0442\u0443\u0441: "})," ",Object(d.jsxs)("span",{onDoubleClick:function(){e.profile.userId===e.userId&&o(!0)},children:[" ",e.status||"-----"," "]})]}),a&&Object(d.jsx)("div",{children:Object(d.jsx)("input",{onChange:function(e){j(e.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(u)},value:u})})]})},f=s(37),b=s(46),h=s.n(b),m=s(61),O=s(384),v=s(380),x=s(382),p=["profile","error","stateEditMode"],g=function(e){var t=e.profile,s=e.error,n=(e.stateEditMode,Object(f.a)(e,p)),o=Object(m.b)({mode:"onBlur"}),i=o.control,r=o.formState.errors,c=o.handleSubmit;return Object(d.jsx)("form",{onSubmit:c((function(e){n.onSubmit(e)})),children:Object(d.jsxs)("div",{className:l.a.editProfile,children:[Object(d.jsx)("div",{children:Object(d.jsx)(O.a,{variant:"outlined",type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),s&&Object(d.jsx)("div",{className:h.a.formSummaryError,children:s}),Object(d.jsxs)("div",{className:l.a.wrapper1,children:[Object(d.jsxs)("div",{className:l.a.editProfileElement,children:[Object(d.jsx)("h3",{children:Object(d.jsx)("b",{children:" Full name: "})}),Object(d.jsx)(m.a,{control:i,name:"fullName",defaultValue:t.fullName,rules:{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e",maxLength:{value:20,message:"Max length is 20 symbols"}},render:function(e){var t,s,n=e.field;return Object(d.jsx)(v.a,Object(a.a)(Object(a.a)({variant:"filled",size:"small"},n),{},{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f",onChange:function(e){return n.onChange(e)},value:n.value,error:null===(t=r.fullName)||void 0===t?void 0:t.message,helperText:null===(s=r.fullName)||void 0===s?void 0:s.message}))}})]}),Object(d.jsxs)("div",{className:l.a.editProfileElement,children:[Object(d.jsx)("b",{children:" Looking for a job: "}),Object(d.jsx)(m.a,{control:i,name:"lookingForAJob",defaultValue:t.lookingForAJob,render:function(e){var t=e.field,s=t.onChange,a=t.value;return Object(d.jsx)(x.a,{checked:a,onChange:s,label:""})}})]})]}),Object(d.jsxs)("div",{className:l.a.wrapper2,children:[Object(d.jsxs)("div",{className:l.a.editProfileElement,children:[Object(d.jsx)("b",{children:"My professional skills: "}),Object(d.jsx)(m.a,{control:i,name:"lookingForAJobDescription",defaultValue:t.lookingForAJobDescription,rules:{maxLength:{value:100,message:"Max length is 100 symbols"}},render:function(e){var t,s,n=e.field;return Object(d.jsx)(v.a,Object(a.a)(Object(a.a)({variant:"filled",multiline:!0,rows:3},n),{},{label:"My professional skills",onChange:function(e){return n.onChange(e)},value:n.value,error:null===(t=r.lookingForAJobDescription)||void 0===t?void 0:t.message,helperText:null===(s=r.lookingForAJobDescription)||void 0===s?void 0:s.message}))}})]}),Object(d.jsxs)("div",{className:l.a.editProfileElement,children:[Object(d.jsx)("b",{children:" About me: "}),Object(d.jsx)(m.a,{control:i,name:"aboutMe",defaultValue:t.aboutMe,rules:{maxLength:{value:100,message:"Max length is 100 symbols"}},render:function(e){var t,s,n=e.field;return Object(d.jsx)(v.a,Object(a.a)(Object(a.a)({variant:"filled",multiline:!0,rows:3},n),{},{label:"About me",onChange:function(e){return n.onChange(e)},value:n.value,error:null===(t=r.aboutMe)||void 0===t?void 0:t.message,helperText:null===(s=r.aboutMe)||void 0===s?void 0:s.message}))}})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Contacts:"}),Object(d.jsx)("div",{className:l.a.contacts,children:Object.keys(t.contacts).map((function(e){var s=t.contacts.key;return Object(d.jsxs)("div",{className:l.a.contact,children:[Object(d.jsxs)("b",{children:[" ",e,": "]}),Object(d.jsx)("div",{children:Object(d.jsx)(m.a,{control:i,name:"contacts."+e,defaultValue:s,rules:{maxLength:{value:5,message:"Max length is 100 symbols"}},render:function(t){var s,n,o=t.field;return Object(d.jsx)(v.a,Object(a.a)(Object(a.a)({variant:"filled",size:"small"},o),{},{label:e,onChange:function(e){return o.onChange(e)},value:o.value,error:null===(s=r.contacts)||void 0===s?void 0:s.message,helperText:null===(n=r.contacts)||void 0===n?void 0:n.message}))}})})]},e)}))})]})]})})},P=s(424),_=s.n(P),S=function(e){var t=e.profile,s=e.isOwner,a=e.goToEditMode;return Object(d.jsxs)("div",{children:[s&&Object(d.jsx)("div",{children:Object(d.jsx)(O.a,{variant:"outlined",onClick:a,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),Object(d.jsx)("div",{className:l.a.fullName,children:Object(d.jsx)("h2",{children:Object(d.jsxs)("b",{children:["  ",t.fullName," "]})})}),Object(d.jsxs)("div",{className:l.a.info_box,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:" Looking for a job: "})," ",t.lookingForAJob?"yes":"no"]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:" My professional skills: "})," ",t.lookingForAJobDescription]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:" About me: "})," ",t.aboutMe]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(d.jsx)(I,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},I=function(e){var t=e.contactTitle,s=e.contactValue;return Object(d.jsxs)("div",{className:l.a.contactProfileInfo,children:[t," : ",s]})},k=function(e){var t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],o=s[1],r=Object(n.useState)(!1),f=Object(i.a)(r,2),b=f[0],h=f[1],m=function(t){e.changeStateEditMode(t)};Object(n.useEffect)((function(){m(!1)}),[]);if(!e.profile&&e.auth)return Object(d.jsx)(c.a,{});var v=_()("input")({display:"none"});return Object(d.jsx)("div",{className:l.a.profile,children:Object(d.jsxs)("div",{className:l.a.descriptionBlock,children:[Object(d.jsx)("img",{src:e.profile.photos.large||u.a,onMouseOver:function(){h(!0)}}),Object(d.jsx)("div",{children:e.isOwner&&b&&Object(d.jsx)("div",{className:l.a.btnFile,children:Object(d.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(d.jsx)(v,{onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},accept:"image/*",id:"contained-button-file",multiple:!0,type:"file"}),Object(d.jsx)(O.a,{variant:"outlined",onMouseLeave:function(){h(!1)},component:"span",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})]})})}),Object(d.jsx)(j,{status:e.status,updateStatus:e.updateStatus,userId:e.userId,profile:e.profile}),a?Object(d.jsx)(g,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){o(!1),m(!1)}))}}):Object(d.jsx)(S,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){o(!0),m(!0)}})]})})},M=s(134),N=s(441),E=s.n(N),w=s(442),y=s.n(w),C=s(126),T=function(e){return Object(d.jsxs)("div",{className:y.a.item,children:[Object(d.jsx)("img",{src:C.a}),e.message,Object(d.jsx)("div",{className:y.a.time,children:e.date}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"  like "})," ",e.likesCount]})]})},A=(s(123),s(391),o.a.memo((function(e){var t=e.posts.map((function(e){return Object(d.jsx)(T,{message:e.message,likesCount:e.likesCount,date:e.date},e.id)}));return e.profile?Object(d.jsxs)("div",{className:E.a.postsBlock,children:[Object(d.jsx)("h3",{children:" My posts "}),Object(d.jsx)(F,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(d.jsx)("div",{className:E.a.posts,children:t})]}):null}))),F=function(e){var t=Object(m.b)(),s=t.formState,o=s.errors,i=(s.isSubmitSuccessful,t.handleSubmit),r=t.reset,l=t.control,c=t.formState;return Object(n.useEffect)((function(){c.isSubmitSuccessful&&r({something:"newPostText"})}),[c,r]),Object(d.jsxs)("form",{onSubmit:i((function(t){e.onSubmit(t)})),children:[Object(d.jsx)("div",{className:h.a.textArea,children:Object(d.jsx)(m.a,{control:l,name:"newPostText",rules:{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e",maxLength:{value:100,message:"Max length is 100 symbols"}},defaultValue:"",render:function(e){var t,s,n=e.field;return Object(d.jsx)(v.a,Object(a.a)(Object(a.a)({},n),{},{multiline:!0,rows:3,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430",onChange:function(e){return n.onChange(e)},value:n.value,error:null===(t=o.newPostText)||void 0===t?void 0:t.message,helperText:null===(s=o.newPostText)||void 0===s?void 0:s.message}))}})}),Object(d.jsx)(O.a,{variant:"outlined",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"})]})},J=A,B=s(29),L=s(38),V=Object(L.c)(Object(B.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile,auth:e.auth.isAuth}}),{addPost:M.a}))(J),D=function(e){return Object(d.jsxs)("div",{className:l.a.profilePage,children:[Object(d.jsx)(k,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,userId:e.userId,auth:e.auth,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,changeStateEditMode:e.changeStateEditMode}),!e.stateEditMode&&!e.userIdUrl&&Object(d.jsx)(V,{})]})},z=s(19),H=s(133),U=(s(41),s(42),s(51),s(52),s(58));t.default=Object(L.c)(Object(B.b)((function(e){return{users:Object(U.f)(e),profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.userId,auth:e.auth.isAuth,formSaved:e.profilePage.formSaved,stateEditMode:e.profilePage.stateEditMode}}),{getUserProfile:M.e,getStatus:M.d,updateStatus:M.h,savePhoto:M.f,saveProfile:M.g,changeStateEditMode:M.b}),z.g,H.a)((function(e){var t=function(){var t=e.match.params.userId||e.userId;t||e.history.push("/login"),e.getUserProfile(t),e.getStatus(t)};return Object(n.useEffect)((function(){t()}),[]),Object(n.useEffect)((function(){t()}),[e.match.params.userId]),Object(d.jsx)(D,Object(a.a)(Object(a.a)({},e),{},{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:!e.match.params.userId,savePhoto:e.savePhoto,saveProfile:e.saveProfile,changeStateEditMode:e.changeStateEditMode,userId:e.userId,userIdUrl:e.match.params.userId}))}))}}]);
//# sourceMappingURL=4.640579fa.chunk.js.map